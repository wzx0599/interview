+ HTTP和HTTPS之间的区别是什么？底层是什么？

  + 安全性：HTTPS是安全的超文本传输协议，简单来说，HTTPS是使用了TLS/SSL加密的HTTP协议
  + 传输：HTTP使用的是明文传输，HTTPS使用的是SSL加密传输
  + 接口和连接方式：HTTP使用的是80端口；HTTPS使用的是443端口
  + 无状态：HTTP和HTTPS均是无状态的，因为HTTPS是指加密的HTTP

  HTTP和HTTPS是应用层的协议，用于传输各种类型的文件。HTTP的底层可以认为是一个特殊处理的socket。

+ 浏览器中输入URL后，发生了什么？

  + 浏览器进行URL解析，补全域名，然后进行DNS域名解析
  + 通过IP地址和ARP找到服务器，通过三次握手建立TCP连接
  + 浏览器发送HTTP请求，服务器处理请求，并返回相应的结果
  + 浏览器和服务器通过四次挥手断开连接
  + 浏览器解析HTML并进行内容渲染

+ DNS解析的过程

  DNS解析的目的是将输入的域名转换为相应的IP地址。

  + 首先查看浏览器DNS缓存、hosts文件中中是否有域名对应的IP，没有则进行下一步
  + 向本地DNS服务器查询域名对应的IP，没有则进行下一步
  + 如果本地DNS服务器也查询失败，则进行远程DNS服务器查询
    + 迭代查询方式：本地DNS服务器向根域名服务器查询，根域名服务器返回顶级域名服务器地址；本地DNS服务器向顶级域名服务器查询，顶级域名服务器返回权限域名服务器地址；本地DNS服务器向权限域名服务器查询，权限域名服务器返回域名对应的地址；本地DNS服务器返回域名对应的IP
    + 递归查询方式：本地DNS服务器向根域名服务器查询，根域名服务器向顶级域名服务器查询，顶级域名服务器向权限域名服务器查询，权限域名服务器向顶级域名服务器返回IP，顶级域名服务器向根域名服务器返回IP，根域名服务器向本地DNS服务器返回IP，本地DNS服务器返回域名对应的IP

+ DNS算法有哪些?

  DNS查询算法上有两种：迭代查询和递归查询。

+ 三次握手和四次挥手的过程？

  三次握手：初始状态下客户端和服务端处于CLOSED状态，服务端被动打开处于LISTEN状态，最终二者都进入ESTABLISHED状态。

  + 客户端发送请求建立连接报文，其中SYN=1，seq=u(随机值)，进入SYN-SEND状态
  + 服务端接收到请求建立连接报文后，向客户端发送请求连接报文的确认报文，其中SYN=1和ACK=1，ack=u+1，seq=v，进入SYN-RCVD状态
  + 客户端接收到确认报文后，进行检查，确认ack=u+1，ACK=1；如果检查正确，则向服务端发送连接建立报文，其中ACK=1，ack=v+1，seq=u+1，客户端则进入ESTABLISHED状态；服务端在接收到连接建立确认报文后，需要进行相同的确认过程，如果检查正确，则服务端进入ESTABLISHED状态

  四次挥手：初始状态下客户端和服务端都处于ESTABLISHED状态，最终二者都进入CLOSED状态。

  + 客户端向服务端发送请求断开报文，其中FIN=1，ACK=1，seq=x，客户端进入FIN_WAIT_1状态
  + 服务端接收到请求断开报文后，向客户端发送确认报文，其中ACK=1，ack=x+1，seq=y，服务端进入CLOSE_WAIT状态
  + 客户端在接收到确认报文后，确认ack=x+1后进入FIN_WAIT_2状态
  + 服务端在将所有的数据发送完毕后，在最后一个数据包中将FIN=1，ACK=1，ack=x+1，seq=w，服务端进入LAST_ACK状态
  + 客户端在接收到最后一个数据包后将会向服务端发送确认报文，其中ACK=1，ack=w+1，seq=y+1，客户端进入TIME_WAIT状态，并在等待两个MSL后进入CLOSED状态
  + 服务端在接收到最后一个数据包的确认报文后检查其中ACK=1，ack=w+1，seq=y+1，进入CLOSED状态

  理解TCP的三次握手与四次挥手是需要注意的是：TCP是一个双向的可靠传输链路。因此需要保证从客户端到服务端和从服务端到客户端的链路都正确建立后才能开始进行数据传输。

+ TCP连接建立过程中为什么需要“三次握手”？

  TCP连接的本质需求是需要进行信息的可靠传输，然而我们使用的传输信道是不可靠的。同时，一个完整的TCP传输链路可以被分解为AtoB和BtoA两个。

+ 长连接和短连接之间的区别和联系

  长连接和短连接的产生在于client和server采取的关闭策略。

  + 短连接是指通讯双发有数据交互时就建立一个连接，数据发送完成后，则断开连接，即每次连接只完成一项业务的传输
  + 长连接是指一个连接上可以连续发送多个数据包，在连接保持期间，如果没有数据包发送，则需要双发发送链路检测包

  本质上长连接和短连接都是TCP的连接方式，所不同的是二者何时关闭连接。它们之间没有绝对的优劣之分，使用的场景不同。短连接管理起来比较简单，所有已经建立的连接都是有用的连接，不需要额外的控制手段；长连接则由于处于链路建立状态，会更加耗电和占用资源。

+ TCP是如何保证可靠传输的？介绍一下拥塞控制算法

  TCP保证可靠传输的方式主要有：校验和，序列号，确认应答机制，超时重传机制，连接管理，流量控制和拥塞控制。

  + 校验和：通过校验和的方式，接收端可以检测到的数据是否在传输过程中出现差错和异常，如果检测出有差错就会直接丢弃该数据包；
  + 序列号/确认应答机制：发送端向接收端发送数据帧，接收端在接收到数据后会回应一个确认帧；为了实现确认应答机制，TCP数据报首部有一个字段用于存储该数据帧的序号；
  + 超时重传：当发送出去的数据包长时间未收到确认帧，则认为该数据包已丢失，则发送端会重新发送数据帧；
  + 连接管理：三次握手/四次挥手；
  + 流量控制：TCP利用滑动窗口实现流量控制，通过滑动窗口控制发送方的发送速率，保证接收方来得及接收；接收方发送的确认帧中的窗口字段可以用来控制发送方的发送窗口大小，从而影响发送方的发送速率；将窗口的大小设为0，则发送方不能发送数据；
  + 拥塞控制：在某段时间内，若对网络中某一资源的需求超过了该资源所能提供的可用部分，网络的性能就会下降，从而出现拥塞；慢开始，拥塞避免，快重传，快恢复。

+ TCP和UDP之间的区别

  TCP和UDP是TCP/IP体系结构传输层中的两个重要协议

  |              TCP               |            UDP             |
  | :----------------------------: | :------------------------: |
  |            面向连接            |           无连接           |
  |         只能点对点通信         | 支持一对一，一对多，多对多 |
  |           面向字节流           | 对应用层交付的报文直接打包 |
  |            可靠传输            |   不可靠，尽最大努力交付   |
  | 首部大小最小20字节，最大60字节 |    首部开销小，仅8字节     |

+ 简述OSI七层模型和TCP/IP的五层模型

  从底向上看：

  OSI七层模型：物理层，数据链路层，网络层，传输层，会话层，表示层，应用层；

  TCP/IP五层模型：物理层，数据链路层，网路层，传输层，应用层。

+ 数据链路层的作用

  数据链路层最基本的服务是将来自网络层的数据可靠的传输到相邻节点的网络层。

  封装成帧，透明传输，差错检测。

+ TCP四次挥手，最后一次不要行不行？为什么？

  不行。

  最后一次挥手的目的是为了向服务端发送断开请求和最后数据帧的确认帧，服务端在发送了最后一个数据帧后会进入LAST_ACK状态；假设此时最后一个数据帧丢失了，客户端没有接收到数据帧，服务端则会在超时后对数据帧进行重传。

+ TIME_WAIT状态的持续时间是多少？

  两倍的MSL。MSL是最长报文段寿命，建议值为2分钟。

+ HTTPS公钥存放在哪？

  存放在服务端。

+ ICMP协议在哪一层？

  ICMP是指网络控制报文协议，是网络层，用于IP主机和路由器之间传递控制消息。

+ TCP粘包问题，如何解决？

+ socket编程中，write写完后，如何确定对方真的收到了消息？真的收到了吗？

+ TCP三次握手时，当第三次A回应B没有回应的时候，B会干啥？

  由于Server没有收到ACK确认，因此会重发之前的SYN+ACK（默认重发五次，之后自动关闭连接），Client收到后会重新传ACK给Server。如果Client向服务器发送数据，服务器会以RST包响应。